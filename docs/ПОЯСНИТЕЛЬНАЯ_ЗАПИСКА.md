# ПОЯСНИТЕЛЬНАЯ ЗАПИСКА

## к дипломному проекту на тему:

# «Разработка веб-приложения для автоматизированного распределения роялти на основе смарт-контрактов блокчейн»

### Проект: «Непідкупний бухгалтер» (Неподкупный бухгалтер)

---

## СОДЕРЖАНИЕ

1. [Введение](#1-введение)
2. [Актуальность темы](#2-актуальность-темы)
3. [Цели и задачи проекта](#3-цели-и-задачи-проекта)
4. [Анализ предметной области](#4-анализ-предметной-области)
5. [Обзор существующих решений](#5-обзор-существующих-решений)
6. [Технологический стек](#6-технологический-стек)
7. [Архитектура приложения](#7-архитектура-приложения)
8. [Структура проекта](#8-структура-проекта)
9. [Описание компонентов системы](#9-описание-компонентов-системы)
10. [Дизайн и UX-решения](#10-дизайн-и-ux-решения)
11. [Смарт-контракт RoyaltySplitter](#11-смарт-контракт-royaltysplitter)
12. [Механизм DAO-lite голосования](#12-механизм-dao-lite-голосования)
13. [Инфраструктура и CI/CD](#13-инфраструктура-и-cicd)
14. [Тестирование](#14-тестирование)
15. [Сценарии использования](#15-сценарии-использования)
16. [Перспективы развития](#16-перспективы-развития)
17. [Выводы](#17-выводы)
18. [Список использованных источников](#18-список-использованных-источников)
19. [Приложения](#19-приложения)

---

## 1. ВВЕДЕНИЕ

Дипломный проект «Непідкупний бухгалтер» (в переводе — «Неподкупный бухгалтер») представляет собой веб-приложение, созданное как proof of concept (прототип-подтверждение концепции) системы автоматического распределения роялти с использованием смарт-контрактов на блокчейне Ethereum.

Проект решает реальную проблему: в творческих командах, стартапах и коллективных проектах распределение доходов между участниками традиционно зависит от доверия к одному человеку — «бухгалтеру», который ведёт учёт и распределяет средства вручную. Это приводит к ошибкам, задержкам и конфликтам.

Название проекта отражает его ключевую идею: заменить человека-посредника неизменяемым кодом, который невозможно подкупить, обмануть или заставить работать в чьих-то личных интересах.

Приложение представляет собой одностраничный лендинг (SPA — Single Page Application), развёрнутый на GitHub Pages, который подробно описывает концепцию, архитектуру и принципы работы протокола автоматического распределения средств.

**Репозиторий проекта:** https://github.com/Lecter12313/bughalter-blockchain  
**Развёрнутая версия:** https://lecter12313.github.io/bughalter-blockchain/

---

## 2. АКТУАЛЬНОСТЬ ТЕМЫ

### 2.1 Проблема традиционного распределения доходов

В подавляющем большинстве творческих коллективов, стартапов и проектных команд распределение денежных средств между участниками строится на устных договорённостях и ручном учёте. Такой подход содержит ряд системных проблем:

**Непрозрачность.** Участники команды зачастую не имеют полного доступа к финансовой отчётности. Отчёты приходят с задержкой, без необходимой детализации или в форматах, не допускающих независимую проверку.

**Человеческий фактор.** При ручном расчёте распределения неизбежны арифметические ошибки, путаница в долях, задержки выплат и субъективные решения ответственного лица.

**Сложность внесения изменений.** Любое изменение условий (перераспределение долей, добавление нового участника) требует многоступенчатого согласования, переписки и постоянных перепроверок.

### 2.2 Блокчейн как решение

Технология блокчейн и смарт-контракты позволяют решить перечисленные проблемы фундаментально:

- **Неизменяемость правил** — условия распределения записаны в коде, который невозможно тайно изменить после развёртывания;
- **Автоматическое исполнение** — при поступлении средств контракт самостоятельно рассчитывает и готовит выплаты;
- **Полная прозрачность** — все транзакции публично видны в блокчейне и могут быть проверены любым участником;
- **Отсутствие посредника** — ни один человек не контролирует средства единолично.

### 2.3 Рынок и востребованность

По данным аналитических агентств, рынок токенизации реальных активов (RWA — Real World Assets) стремительно растёт. Автоматизированное распределение доходов актуально для:

- музыкальной индустрии (распределение стриминговых роялти между авторами, исполнителями и продюсерами);
- геймдев-команд (деление выручки между разработчиками, художниками и другими участниками);
- стартапов (автоматический расчёт долей сооснователей без ручных таблиц);
- авторских коллективов (гонорары соавторов книг, курсов, исследовательских проектов);
- креативных агентств (распределение оплаты между агентством и фрилансерами);
- токенизированных активов (выплаты владельцам токенов пропорционально долям).

---

## 3. ЦЕЛИ И ЗАДАЧИ ПРОЕКТА

### 3.1 Цель

Разработать веб-приложение (proof of concept), которое наглядно демонстрирует концепцию автоматизированного распределения роялти на основе смарт-контрактов блокчейна Ethereum с использованием современного стека frontend-технологий.

### 3.2 Задачи

1. **Исследовательские:**
   - Проанализировать существующие подходы к распределению доходов в коллективных проектах;
   - Изучить возможности платформы Ethereum и языка Solidity для автоматизации финансовых процессов;
   - Провести сравнительный анализ существующих решений (PaymentSplitter от OpenZeppelin, 0xSplits и др.).

2. **Проектные:**
   - Спроектировать архитектуру смарт-контракта RoyaltySplitter;
   - Разработать механизм DAO-lite голосования для изменения долей;
   - Спроектировать пользовательский интерфейс, понятно объясняющий принципы работы системы.

3. **Технические:**
   - Реализовать SPA-приложение на React 19 + TypeScript + Vite;
   - Разработать адаптивный дизайн в стиле Swiss Design с анимациями;
   - Настроить CI/CD для автоматического развёртывания на GitHub Pages;
   - Подготовить документацию проекта (README, CONTRIBUTING, ROADMAP, CHANGELOG).

4. **Демонстрационные:**
   - Представить интерактивное демо в тестнете Sepolia;
   - Обеспечить возможность просмотра исходного кода смарт-контракта.

---

## 4. АНАЛИЗ ПРЕДМЕТНОЙ ОБЛАСТИ

### 4.1 Что такое роялти

Роялти — это периодические выплаты правообладателю за использование его интеллектуальной собственности (музыки, ПО, патентов и т.д.). В коллективном творчестве роялти распределяются между несколькими участниками в заранее оговорённых пропорциях.

### 4.2 Традиционная модель распределения

```
[Доход] → [Посредник/Бухгалтер] → [Ручной расчёт] → [Выплаты участникам]
```

Недостатки:
- Единая точка контроля (посредник);
- Возможность ошибки или злоупотребления;
- Задержки выплат;
- Отсутствие прозрачности для участников.

### 4.3 Модель на основе смарт-контракта

```
[Доход] → [Адрес смарт-контракта] → [Автоматический расчёт] → [Вывод на кошельки]
```

Преимущества:
- Нет единой точки контроля;
- Математически точный расчёт (до wei — минимальной единицы ETH);
- Мгновенный расчёт при поступлении средств;
- Полная прозрачность всех операций в блокчейне;
- Доступ к выводу средств 24/7.

### 4.4 Стандарт ERC-20 и Solidity

Проект базируется на стандарте ERC-20 и языке программирования Solidity — основном языке для написания смарт-контрактов на платформе Ethereum. Эти технологии обеспечивают:
- Высокую совместимость с экосистемой Ethereum;
- Широкую поддержку инструментов разработки;
- Проверенные паттерны безопасности.

---

## 5. ОБЗОР СУЩЕСТВУЮЩИХ РЕШЕНИЙ

### 5.1 OpenZeppelin PaymentSplitter

Контракт от OpenZeppelin, который позволяет делить входящие платежи между фиксированным набором адресов. Ограничения: доли нельзя менять после развёртывания.

### 5.2 0xSplits

Протокол для распределения платежей на Ethereum. Более гибкий, но сложный для understanding нетехническим пользователям.

### 5.3 Superfluid

Протокол для потоковых платежей. Решает смежную задачу, но с другим подходом (непрерывные потоки вместо дискретного распределения).

### 5.4 Позиционирование проекта

«Неподкупный бухгалтер» отличается:
- Образовательным фокусом — проект создан как академическая работа с понятным объяснением;
- DAO-lite механизмом — возможность коллективного изменения долей через голосование;
- Визуальной презентацией — лендинг наглядно объясняет концепцию неподготовленному пользователю;
- Прозрачной документацией — полная документация на GitHub.

---

## 6. ТЕХНОЛОГИЧЕСКИЙ СТЕК

### 6.1 Основные технологии

| Технология | Версия | Назначение |
|---|---|---|
| **React** | 19.2.0 | Библиотека для построения пользовательских интерфейсов |
| **TypeScript** | 5.8+ | Статическая типизация для JavaScript |
| **Vite** | 6.x | Сборщик и сервер разработки нового поколения |
| **Tailwind CSS** | 3.x | Utility-first CSS-фреймворк |
| **Solidity** | — | Язык смарт-контрактов Ethereum (контрактная часть) |

### 6.2 UI-библиотеки и компоненты

| Библиотека | Назначение |
|---|---|
| **shadcn/ui** (new-york стиль) | Набор переиспользуемых UI-компонентов на базе Radix UI |
| **Radix UI** | Примитивы доступных UI-компонентов (30+ подключённых модулей) |
| **Lucide React** | Библиотека SVG-иконок |
| **Recharts** | Библиотека для визуализации данных (графики) |
| **class-variance-authority (CVA)** | Утилита для управления вариантами стилей компонентов |
| **clsx + tailwind-merge** | Утилиты для условного объединения CSS-классов |

### 6.3 Формы и валидация

| Библиотека | Назначение |
|---|---|
| **React Hook Form** | Управление состоянием форм |
| **Zod** | Схемная валидация данных |
| **@hookform/resolvers** | Интеграция Zod с React Hook Form |

### 6.4 Дополнительные библиотеки

| Библиотека | Назначение |
|---|---|
| **date-fns** | Работа с датами |
| **embla-carousel-react** | Карусель/слайдер |
| **input-otp** | Компонент ввода одноразовых паролей |
| **sonner** | Уведомления (тосты) |
| **vaul** | Компонент Drawer (выезжающая панель) |
| **next-themes** | Переключение тем (светлая/тёмная) |
| **react-resizable-panels** | Изменяемые панели интерфейса |
| **react-day-picker** | Компонент выбора даты |
| **cmdk** | Командная палитра (Command Menu) |

### 6.5 Инструменты разработки

| Инструмент | Назначение |
|---|---|
| **ESLint** | Линтер для анализа качества кода |
| **PostCSS** | Процессор CSS для Tailwind |
| **GitHub Actions** | CI/CD для автоматического деплоя |
| **GitHub Pages** | Хостинг статического сайта |

### 6.6 Обоснование выбора технологий

**React 19** был выбран как наиболее зрелая и широко поддерживаемая библиотека для построения SPA. Версия 19 принесла улучшения в производительности рендеринга и новые возможности (React Compiler).

**TypeScript** обеспечивает строгую типизацию, что критически важно для финансового приложения, где ошибки типов могут привести к серьёзным последствиям. Компиляция TypeScript перехватывает ошибки на этапе разработки, а не в продакшене.

**Vite** выбран вместо Webpack из-за значительно более быстрой скорости сборки (горячая замена модулей за миллисекунды, быстрый cold start). Использует ES modules в режиме разработки, что обеспечивает мгновенный запуск.

**Tailwind CSS** позволяет создавать высококачественный дизайн без написания отдельных CSS-файлов, используя утилитарные классы прямо в разметке. В сочетании с `class-variance-authority` обеспечивает масштабируемую систему стилей.

**shadcn/ui** — не библиотека в традиционном смысле, а коллекция компонентов, которые копируются в проект. Это даёт полный контроль над кодом компонентов и возможность их кастомизации. Основан на Radix UI — наборе headless-компонентов с built-in accessibility.

---

## 7. АРХИТЕКТУРА ПРИЛОЖЕНИЯ

### 7.1 Общая архитектура

Приложение построено по архитектуре Single Page Application (SPA):

```
┌───────────────────────────────────────────────────┐
│                   Браузер                          │
│  ┌─────────────────────────────────────────────┐  │
│  │               React SPA                      │  │
│  │  ┌─────────────────────────────────────┐    │  │
│  │  │           App.tsx (корень)           │    │  │
│  │  │  ┌───────────────────────────────┐  │    │  │
│  │  │  │  Hero                          │  │    │  │
│  │  │  │  Problem                       │  │    │  │
│  │  │  │  Solution                      │  │    │  │
│  │  │  │  HowItWorks                    │  │    │  │
│  │  │  │  Governance                    │  │    │  │
│  │  │  │  UseCases                      │  │    │  │
│  │  │  │  Demo                          │  │    │  │
│  │  │  │  Footer                        │  │    │  │
│  │  │  └───────────────────────────────┘  │    │  │
│  │  └─────────────────────────────────────┘    │  │
│  └─────────────────────────────────────────────┘  │
└───────────────────────────────────────────────────┘
         │                          │
         ▼                          ▼
┌─────────────────┐      ┌──────────────────┐
│  GitHub Pages   │      │  GitHub Actions   │
│  (хостинг)      │      │  (CI/CD)          │
└─────────────────┘      └──────────────────┘
```

### 7.2 Паттерны проектирования

1. **Компонентная архитектура** — каждая секция лендинга выделена в отдельный React-компонент;
2. **Intersection Observer Pattern** — анимации запускаются при появлении элемента в viewport;
3. **Environment-based configuration** — конфигурация через переменные окружения (.env);
4. **Alias-based imports** — использование `@/` для абсолютных путей импорта;
5. **Utility-first CSS** — стилизация через утилитарные классы Tailwind;
6. **CSS Custom Properties** — системные цвета определены через CSS-переменные для тематизации.

### 7.3 Точка входа

```
index.html → main.tsx → App.tsx → [Hero, Problem, Solution, HowItWorks, Governance, UseCases, Demo, Footer]
```

Файл `main.tsx` монтирует React-приложение в DOM-элемент `#root` с использованием `React.StrictMode` для выявления потенциальных проблем в режиме разработки.

---

## 8. СТРУКТУРА ПРОЕКТА

### 8.1 Корневая директория

```
bughalter-blockchain/
├── .github/
│   └── workflows/
│       └── deploy-pages.yml      # CI/CD workflow для GitHub Pages
├── public/
│   └── logo.png                  # Логотип проекта
├── src/
│   ├── components/
│   │   └── ui/                   # 50+ UI-компонентов (shadcn/ui)
│   ├── hooks/
│   │   └── use-mobile.ts         # Хук определения мобильного устройства
│   ├── lib/
│   │   └── utils.ts              # Утилита cn() для классов
│   ├── sections/                 # 8 секций лендинга
│   │   ├── Hero.tsx
│   │   ├── Problem.tsx
│   │   ├── Solution.tsx
│   │   ├── HowItWorks.tsx
│   │   ├── Governance.tsx
│   │   ├── UseCases.tsx
│   │   ├── Demo.tsx
│   │   └── Footer.tsx
│   ├── App.tsx                   # Корневой компонент
│   ├── App.css                   # Стили (legacy, Vite scaffold)
│   ├── index.css                 # Глобальные стили + Tailwind + анимации
│   └── main.tsx                  # Точка входа
├── .env.example                  # Шаблон переменных окружения
├── CHANGELOG.md                  # Журнал изменений
├── CONTRIBUTING.md               # Руководство для контрибьюторов
├── ROADMAP.md                    # Дорожная карта
├── README.md                     # Документация проекта
├── components.json               # Конфигурация shadcn/ui
├── eslint.config.js              # Конфигурация ESLint
├── index.html                    # HTML-шаблон
├── package.json                  # Зависимости и скрипты
├── postcss.config.js             # Конфигурация PostCSS
├── tailwind.config.js            # Конфигурация Tailwind CSS
├── tsconfig.json                 # Конфигурация TypeScript (корневая)
├── tsconfig.app.json             # Конфигурация TypeScript (приложение)
├── tsconfig.node.json            # Конфигурация TypeScript (Node.js)
└── vite.config.ts                # Конфигурация Vite
```

### 8.2 Директория components/ui

Содержит более 50 переиспользуемых UI-компонентов, сгенерированных через shadcn/ui CLI:
- Компоненты ввода: `input`, `textarea`, `checkbox`, `radio-group`, `select`, `switch`, `slider`
- Отображение данных: `table`, `card`, `badge`, `avatar`, `calendar`, `chart`
- Навигация: `tabs`, `navigation-menu`, `breadcrumb`, `pagination`, `menubar`
- Обратная связь: `alert`, `alert-dialog`, `dialog`, `drawer`, `sheet`, `popover`, `tooltip`, `sonner`
- Макет: `accordion`, `collapsible`, `resizable`, `scroll-area`, `separator`, `sidebar`
- Прочие: `button`, `button-group`, `command`, `context-menu`, `dropdown-menu`, `form`, `skeleton`, `spinner`, `toggle`, `toggle-group`

---

## 9. ОПИСАНИЕ КОМПОНЕНТОВ СИСТЕМЫ

### 9.1 Hero (Главный экран)

**Файл:** `src/sections/Hero.tsx`

Полноэкранная секция приветствия с:
- Анимированным логотипом (floating animation с SVG-тенью);
- Заголовком «НЕПІДКУПНИЙ БУХГАЛТЕР» с reveal-анимацией (blur → clear);
- Подзаголовком: «Смарт-контрактний протокол для автоматичного розподілу роялті. Жодної довіри — лише код.»
- Метками «PROOF OF CONCEPT» и «ACADEMIC PROJECT»;
- CTA-кнопкой «Дослідити» со smooth scroll к следующей секции;
- Информационной панелью внизу: тип (Smart Contract), стандарт (ERC-20 / Solidity);
- Декоративным золотым свечением (glow effect) и gradient overlay.

Анимации: `animate-float-soft`, `animate-title-reveal`, `animate-fade-up`, `animate-arrow-bounce`, `animate-glow-drift`.

### 9.2 Problem (Проблема)

**Файл:** `src/sections/Problem.tsx`

Описывает три ключевые проблемы традиционного подхода:

1. **Непрозорість (Непрозрачность)** — авторы не видят полной картины доходов;
2. **Людський фактор (Человеческий фактор)** — ошибки при ручном расчёте;
3. **Складні зміни (Сложность изменений)** — любое изменение условий требует согласования.

Содержит цитату-блокквот: *«Коли гроші проходять через одну точку контролю, довіра рано чи пізно починає тріщати.»*

Технически: использует Intersection Observer для анимации появления элементов при скролле с задержкой `150ms` между карточками.

### 9.3 Solution (Решение)

**Файл:** `src/sections/Solution.tsx`

Четыре ключевых преимущества смарт-контрактного подхода:

1. **Код замість обіцянок** — условия фиксируются в коде, никто не может тайно переписать правила;
2. **Незмінна логіка** — после деплоя контракт работает по заданному сценарию;
3. **Автовиплати** — при поступлении средств контракт сразу рассчитывает доли;
4. **Прозорість на практиці** — любую транзакцию можно проверить в сети.

Включает **превью кода смарт-контракта** `RoyaltySplitter.sol` — упрощённый Solidity-код, показывающий mapping долей и функцию `distributeRoyalties()`.

### 9.4 HowItWorks (Как это работает)

**Файл:** `src/sections/HowItWorks.tsx`

Четырёхшаговый процесс:

| Шаг | Название | Описание | Метки |
|---|---|---|---|
| 01 | Ініціалізація часток | Совладельцы регистрируют адреса кошельков и фиксируют доли | Прозрачная фиксация, Без односторонних изменений |
| 02 | Надходження коштів | Роялти поступают напрямую на адрес контракта | Прямые поступления, Публичный аудит |
| 03 | Автоматичний розрахунок | Контракт мгновенно рассчитывает суммы для каждого | Мгновенный расчёт, Точность до wei |
| 04 | Самостійний вивід | Каждый совладелец выводит средства на свой кошелёк | Без задержек, Доступ 24/7 |

### 9.5 Governance (DAO-lite управление)

**Файл:** `src/sections/Governance.tsx`

Механизм коллективного управления условиями:

- **Колективне голосування** — изменения долей через решение группы, а не одного человека;
- **Зрозумілі правила** — формат голосования зафиксирован заранее;
- **Гнучкість без хаосу** — условия можно обновить, но только через прозрачный процесс;
- **Захист для всіх сторін** — механизм снижает риск одностороннего изменения правил.

**Процесс изменения долей:** Пропозиція → Голосування → Виконання  
**Порог принятия:** 66% голосов

### 9.6 UseCases (Сценарии использования)

**Файл:** `src/sections/UseCases.tsx`

Шесть целевых аудиторий с блоком статистики:

1. Музыканты — распределение стриминговых доходов;
2. Геймдев-команды — деление выручки;
3. Стартапы — расчёт долей сооснователей;
4. Авторские коллективы — распределение гонораров;
5. Креативные агентства — деление оплаты за проекты;
6. Токенизированные активы (RWA) — выплаты владельцам токенов.

Статистический блок: 100% прозрачность, 0 посредников, 24/7 доступность, ∞ масштаб.

### 9.7 Demo (Демонстрация)

**Файл:** `src/sections/Demo.tsx`

Два интерактивных блока:

1. **Смарт-контракт (Code)** — ссылка на GitHub репозиторий с открытым кодом RoyaltySplitter (ініціалізація часток, автоматичний розподіл, механіка голосування);
2. **Інтерактивне демо (Testnet)** — тестнет Sepolia для безрисковой проверки (підключення гаманця, тестові транзакції, перевірка балансів).

Содержит предупреждение: *«Це навчальний proof-of-concept. Код не проходив повний аудит безпеки, тому використання з реальними коштами не рекомендується.»*

URL репозитория берётся из переменной окружения `VITE_GITHUB_URL`.

### 9.8 Footer (Подвал)

**Файл:** `src/sections/Footer.tsx`

- Логотип и описание проекта;
- Ссылки на ресурсы: GitHub, Документація, Etherscan;
- Статус: Proof of Concept, Academic Project, Not Audited;
- Дисклеймер: «Без юридичних гарантій. Не призначено для використання з реальними активами.»

---

## 10. ДИЗАЙН И UX-РЕШЕНИЯ

### 10.1 Дизайн-система

Проект использует адаптированную систему дизайна, вдохновлённую **Swiss Design (Международный типографический стиль)**:

- **Цветовая палитра:** чёрный фон (#000000, #0a0a0a) + золотой акцент (#FFD700) + белый текст с различными уровнями прозрачности (100%, 80%, 60%, 50%, 40%, 30%);
- **Типографика:** шрифт Inter (Google Fonts) с весами от 300 до 900 + моноширинный шрифт SF Mono / Cascadia Code для технических элементов;
- **Сетка:** 12-колоночная Grid система;
- **Радиус скруглений:** 0 (все элементы прямоугольные, в духе Swiss Design);
- **Разделители:** тонкие горизонтальные линии (`border-white/10`) между блоками.

### 10.2 Анимации

Приложение содержит продуманную систему анимаций:

| Анимация | Описание | Длительность |
|---|---|---|
| `fade-up` | Появление снизу с прозрачностью | 700ms |
| `title-reveal` | Появление заголовка с blur-эффектом | 700ms |
| `line-grow` | Рост линии от нуля | 650ms |
| `float-soft` | Мягкое парение логотипа | 4s (бесконечно) |
| `arrow-bounce` | Подпрыгивание стрелки | 1.5s (бесконечно) |
| `glow-drift` | Перемещение свечения | 9s (бесконечно) |

Все анимации отключаются через `@media (prefers-reduced-motion: reduce)` для обеспечения доступности.

### 10.3 Scroll-based анимации

Каждая секция (кроме Hero) использует паттерн Intersection Observer для запуска анимаций при прокрутке:

```typescript
const observer = new IntersectionObserver(
  ([entry]) => {
    if (entry.isIntersecting) {
      setIsVisible(true);
    }
  },
  { threshold: 0.2 }
);
```

Порог `0.2` означает, что анимация запускается, когда 20% секции видно во viewport.

### 10.4 Адаптивность

Интерфейс полностью адаптивен:
- **Mobile first** подход через Tailwind breakpoints;
- **Breakpoints:** sm (640px), md (768px), lg (1024px), xl (1280px);
- Определение мобильного устройства через кастомный хук `useIsMobile()` (breakpoint: 768px);
- Grid-колонки адаптируются: `col-span-12` (мобильный) → `col-span-6`/`col-span-4` (десктоп).

### 10.5 Кастомизация интерфейса

- Кастомный скроллбар: тёмный фон с золотой подсветкой при наведении;
- Пользовательское выделение текста: золотой фон с чёрным текстом (`::selection`);
- Декоративные grid lines: тонкие белые линии фоновой сетки (opacity 3%).

---

## 11. СМАРТ-КОНТРАКТ ROYALTYSPLITTER

### 11.1 Концептуальная архитектура

Смарт-контракт RoyaltySplitter — ядро системы. Его задача: при поступлении ETH на адрес контракта автоматически рассчитать и распределить средства между зарегистрированными участниками.

### 11.2 Ключевые компоненты

```solidity
contract RoyaltySplitter {
    mapping(address => uint256) public shares;

    receive() external payable {
        distributeRoyalties();
    }

    function distributeRoyalties() internal {
        for each shareholder {
            uint256 payment = msg.value * shares[holder] / 10000;
            payable(holder).transfer(payment);
        }
    }
}
```

**Структура данных:**
- `mapping(address => uint256) shares` — таблица сопоставления адресов кошельков и их долей;
- Доли хранятся в базисных пунктах (basis points): 10000 = 100%, 5000 = 50%, 2500 = 25%.

**Ключевые функции:**
- `receive()` — внешняя payable-функция, вызывается автоматически при поступлении ETH;
- `distributeRoyalties()` — внутренняя функция расчёта и распределения.

### 11.3 Точность расчётов

Использование целочисленной арифметики с базисными пунктами (1/10000) обеспечивает:
- Точность до wei (10^-18 ETH);
- Отсутствие ошибок округления с плавающей запятой;
- Детерминированный результат на любой EVM-совместимой платформе.

### 11.4 Безопасность

В проекте отмечено, что код не проходил полный аудит безопасности. Для продакшен-версии необходимо учесть:
- Защиту от reentrancy-атак (паттерн checks-effects-interactions или ReentrancyGuard);
- Gas limits при большом числе участников;
- Обработку ошибок при неудачных transfer-вызовах;
- Механизм pull-выплат вместо push для масштабируемости.

---

## 12. МЕХАНИЗМ DAO-LITE ГОЛОСОВАНИЯ

### 12.1 Назначение

В реальных проектах состав команды и вклад участников меняются. Жёстко зафиксированные доли быстро устаревают. DAO-lite механизм решает эту проблему, позволяя коллективно изменять условия.

### 12.2 Процесс

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   1. Пропозиція │ ──→ │  2. Голосування  │ ──→ │   3. Виконання  │
│                 │     │                 │     │                 │
│ Один участник   │     │ Команда голосує  │     │ Контракт        │
│ створює         │     │ за або проти     │     │ застосовує      │
│ пропозицію      │     │                 │     │ зміни           │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

### 12.3 Параметры

- **Инициатор:** любой участник с зарегистрированной долей;
- **Порог принятия:** 66% голосов (⅔ большинство);
- **Исполнение:** автоматическое, после достижения порога.

### 12.4 Отличие от полноценного DAO

Приставка «lite» означает упрощённую модель:
- Нет токена управления (governance token);
- Голоса взвешены по долям (кто вложил больше — голос весит больше);
- Нет таймлоков и сложных многоэтапных пропозиций;
- Нет делегирования голосов.

Это сознательное решение для MVP: DAO-lite достаточно для малых команд (5-15 человек), при этом значительно проще в реализации и аудите.

---

## 13. ИНФРАСТРУКТУРА И CI/CD

### 13.1 Хостинг

Приложение развёрнуто на **GitHub Pages** — бесплатном хостинге статических сайтов от GitHub. Это обеспечивает:
- Нулевую стоимость хостинга;
- Глобальную CDN-доставку;
- HTTPS по умолчанию;
- Интеграцию с репозиторием.

### 13.2 CI/CD Pipeline

```yaml
# .github/workflows/deploy-pages.yml
Trigger: push to main branch
Steps:
  1. Checkout code
  2. Setup Node.js
  3. npm install
  4. npm run build (TypeScript compile + Vite build)
  5. Deploy to GitHub Pages
```

Каждый push в ветку `main` автоматически запускает сборку и развёртывание, исключая ручные действия и обеспечивая актуальность развёрнутой версии.

### 13.3 Стратегия ветвления

Проект следует упрощённой Git Flow стратегии:
- **main** — всегда в рабочем состоянии (deployable);
- Короткоживущие feature-ветки: `feat/...`, `fix/...`, `chore/...`;
- Стиль коммитов: `feat(hero): enlarge logo and refine entrance motion`.

### 13.4 Конфигурация сборки

**Vite** (файл `vite.config.ts`):
- `base: './'` — относительные пути для корректной работы на GitHub Pages;
- Plugin: `@vitejs/plugin-react` — поддержка JSX и Fast Refresh;
- Alias: `@/` → `./src/` — сокращённые пути импорта.

**TypeScript** — три конфигурации:
- `tsconfig.json` — корневая (references);
- `tsconfig.app.json` — для исходного кода приложения;
- `tsconfig.node.json` — для конфигурационных файлов (Vite).

---

## 14. ТЕСТИРОВАНИЕ

### 14.1 Текущее состояние

На текущем этапе проект является proof of concept. Формальное тестирование включает:
- **Компиляция TypeScript** — strict mode ловит ошибки типов;
- **ESLint** — статический анализ кода;
- **Ручное тестирование** — визуальная проверка всех секций и анимаций;
- **CI/CD проверка** — сборка на каждый push гарантирует компилируемость.

### 14.2 Планируемое тестирование (из Roadmap)

- E2E smoke-тесты для проверки рендеринга главной страницы;
- Верификация смарт-контракта;
- Покрытие тестами бизнес-логики контракта.

---

## 15. СЦЕНАРИИ ИСПОЛЬЗОВАНИЯ

### 15.1 Сценарий: Музыкальная группа

1. Трое музыкантов создают коллектив: автор (40%), исполнитель (35%), продюсер (25%);
2. Доли фиксируются в смарт-контракте;
3. Стриминговая платформа отправляет роялти на адрес контракта;
4. Контракт автоматически рассчитывает: из 1 ETH → 0.4 автору, 0.35 исполнителю, 0.25 продюсеру;
5. Каждый участник выводит средства в удобное время.

### 15.2 Сценарий: Стартап-команда

1. Четверо сооснователей фиксируют доли 30/30/25/15;
2. При изменении ролей один участник создаёт proposal через DAO-lite;
3. 66% участников голосуют «за»;
4. Контракт автоматически обновляет доли.

### 15.3 Сценарий: Геймдев с NFT

1. Команда разработчиков создаёт игру с NFT;
2. Вторичные продажи NFT генерируют роялти;
3. Роялти автоматически распределяются между программистами, художниками и геймдизайнерами.

---

## 16. ПЕРСПЕКТИВЫ РАЗВИТИЯ

### 16.1 Ближайшие планы (из ROADMAP)

- Добавить живые ссылки на Etherscan и интерактивные демо-взаимодействия;
- Улучшить мобильную типографику в Hero секции;
- Добавить секционную аналитику (events);
- Базовые E2E smoke-тесты.

### 16.2 Среднесрочные планы

- Переключатель тёмной/светлой темы;
- Интеграция Contract ABI read-only explorer;
- Двуязычная поддержка (UA/EN).

### 16.3 Долгосрочные планы

- Превращение лендинга в полноценный портал документации;
- Верификация контракта и бейджи покрытия тестами;
- Интеграция с реальными стриминговыми API;
- Мультичейн-поддержка (Polygon, Arbitrum, Base).

---

## 17. ВЫВОДЫ

В результате выполнения дипломного проекта было создано веб-приложение «Непідкупний бухгалтер», представляющее собой proof of concept системы автоматизированного распределения роялти на основе смарт-контрактов блокчейна Ethereum.

### Достигнутые результаты:

1. **Исследована предметная область** — проанализированы проблемы традиционного распределения доходов в коллективных проектах и изучены возможности блокчейн-технологий для их решения.

2. **Разработана архитектура смарт-контракта** RoyaltySplitter с механизмом DAO-lite голосования для коллективного управления долями.

3. **Реализовано SPA-приложение** на современном стеке технологий (React 19, TypeScript, Vite, Tailwind CSS) с адаптивным дизайном и анимациями.

4. **Настроен полный CI/CD pipeline** — автоматическая сборка и развёртывание на GitHub Pages через GitHub Actions.

5. **Подготовлена полная документация проекта** — README, Contributing Guide, Roadmap, Changelog, Issue и PR templates.

6. **Приложение развёрнуто и доступно** по публичному адресу для демонстрации и проверки.

### Практическая значимость:

Проект демонстрирует реальную применимость блокчейн-технологий для автоматизации финансовых процессов в творческих коллективах. Концепция «неподкупного бухгалтера» показывает, как замена человека-посредника неизменяемым кодом решает проблемы доверия, прозрачности и оперативности расчётов.

### Навыки, продемонстрированные в проекте:

- Проектирование и разработка SPA на React + TypeScript;
- Работа с современными CSS-фреймворками (Tailwind CSS) и дизайн-системами (shadcn/ui);
- Понимание архитектуры смарт-контрактов Ethereum и языка Solidity;
- Настройка CI/CD и автоматизация деплоя;
- Ведение проектной документации по стандартам Open Source;
- Применение принципов Swiss Design в веб-дизайне;
- Реализация accessible анимаций с учётом `prefers-reduced-motion`.

---

## 18. СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ

1. React Documentation — https://react.dev/
2. TypeScript Documentation — https://www.typescriptlang.org/docs/
3. Vite Official Guide — https://vite.dev/guide/
4. Tailwind CSS Documentation — https://tailwindcss.com/docs
5. shadcn/ui Documentation — https://ui.shadcn.com/
6. Radix UI Primitives — https://www.radix-ui.com/
7. Solidity Documentation — https://docs.soliditylang.org/
8. Ethereum Developer Documentation — https://ethereum.org/developers/
9. OpenZeppelin Contracts (PaymentSplitter) — https://docs.openzeppelin.com/contracts/
10. ERC-20 Token Standard — https://eips.ethereum.org/EIPS/eip-20
11. 0xSplits Protocol — https://docs.0xsplits.xyz/
12. Intersection Observer API — https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
13. CSS Custom Properties — https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties
14. GitHub Pages Documentation — https://docs.github.com/en/pages
15. GitHub Actions Documentation — https://docs.github.com/en/actions
16. Swiss Design Principles — Müller-Brockmann, J. "Grid Systems in Graphic Design", 1981
17. Web Content Accessibility Guidelines (WCAG) — https://www.w3.org/WAI/standards-guidelines/wcag/
18. Ethereum Gas Optimization — https://ethereum.org/en/developers/docs/gas/

---

## 19. ПРИЛОЖЕНИЯ

### Приложение А. Команды для локального запуска

```bash
# Установка зависимостей
npm install

# Запуск dev-сервера
npm run dev
# → откроется http://localhost:5173/

# Сборка для продакшена
npm run build

# Линтинг
npm run lint

# Превью собранной версии
npm run preview
```

### Приложение Б. Переменные окружения

```bash
# Файл .env (создать из .env.example)
VITE_GITHUB_URL=https://github.com/Lecter12313/bughalter-blockchain
```

### Приложение В. Карта секций лендинга

| № | Секция | ID | Описание |
|---|---|---|---|
| 01 | Hero | — | Главный экран с анимированным заголовком |
| 02 | Problem | `#problem` | Три проблемы традиционного подхода |
| 03 | Solution | — | Преимущества смарт-контрактного решения + превью кода |
| 04 | HowItWorks | — | Четырёхшаговый процесс работы |
| 05 | Governance | — | DAO-lite механизм голосования |
| 06 | UseCases | — | Шесть целевых аудиторий + статистика |
| 07 | Demo | `#demo` | Ссылки на код и тестнет |
| 08 | Footer | — | Ресурсы, статус, дисклеймер |

### Приложение Г. Палитра цветов

| Цвет | HEX | Использование |
|---|---|---|
| Чёрный (основной фон) | `#000000` | Фон нечётных секций |
| Тёмно-серый | `#0a0a0a` | Фон чётных секций |
| Золотой (акцент) | `#FFD700` | Заголовки, кнопки, декоративные элементы |
| Белый 100% | `#FFFFFF` | Основные заголовки |
| Белый 80% | `rgba(255,255,255,0.8)` | Вторичный текст |
| Белый 60% | `rgba(255,255,255,0.6)` | Описания |
| Белый 50% | `rgba(255,255,255,0.5)` | Абзацы |
| Белый 40% | `rgba(255,255,255,0.4)` | Лейблы, метки |
| Белый 30% | `rgba(255,255,255,0.3)` | Дисклеймеры |
| Белый 10% | `rgba(255,255,255,0.1)` | Разделители, рамки |

### Приложение Д. Версии зависимостей

```
react: 19.2.0
typescript: 5.8+
vite: 6.x
tailwindcss: 3.x
@radix-ui/*: 1.x–2.x (30+ пакетов)
lucide-react: 0.562.0
recharts: 2.15.4
zod: 4.3.5
react-hook-form: 7.71.1
```

---

*Дата создания: февраль 2026*  
*Автор проекта: студент-дипломник*  
*Репозиторий: https://github.com/Lecter12313/bughalter-blockchain*
